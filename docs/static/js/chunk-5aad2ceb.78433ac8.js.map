{"version":3,"sources":["webpack:///./src/components/PDF/index.vue?b6b4","webpack:///./src/views/document/index.vue?9f53","webpack:///./src/views/document/index.vue?89d0","webpack:///./src/components/PDF/index.vue?c09a","webpack:///src/components/PDF/index.vue","webpack:///./src/components/PDF/index.vue?590d","webpack:///./src/components/PDF/index.vue","webpack:///./src/components/VideoPlayer/index.vue?47be","webpack:///src/components/VideoPlayer/index.vue","webpack:///./src/components/VideoPlayer/index.vue?90ea","webpack:///./src/components/VideoPlayer/index.vue","webpack:///src/views/document/index.vue","webpack:///./src/views/document/index.vue?e483","webpack:///./src/views/document/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","docType","attrs","docSrc","_e","staticRenderFns","style","width","pdfWidth","margin","_l","page","key","pdf","name","props","url","type","String","default","watermark","data","currentPage","totalPage","height","pdfDoc","rendering","computed","firstPage","lastPage","watch","handler","nVal","_initPdf","mounted","methods","firstPageHandler","_renderQueue","lastPageHandler","previousPage","nextPage","_getRatio","dpr","bspr","_getClientWidth","_renderPage","getPage","then","canvas","console","log","viewport","ctx","setTransform","ratio","_initWatermark","rotate","font","fillStyle","textAlign","textBaseline","fillText","_renderWatermark","rect","pattern","fill","component","ref","playerOptions","on","$event","onPlayerPlay","onPlayerPause","onPlayerEnded","components","vPlayer","src","playbackRates","autoplay","muted","loop","preload","language","aspectRatio","fluid","sources","poster","notSupportedMessage","controlBar","timeDivider","durationDisplay","remainingTimeDisplay","fullscreenToggle","player","$refs","videoPlayer","e","VideoPlayer","$route","getDocData","created","href","mime"],"mappings":"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","file":"static/js/chunk-5aad2ceb.78433ac8.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=39958bb0&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=726b2ce1&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pdf\"},[(_vm.docType === 'pdf')?[_c('pdf',{attrs:{\"url\":_vm.docSrc}})]:_vm._e(),(_vm.docType === 'video')?[_c('video-player',{attrs:{\"src\":\"https://cdn.theguardian.tv/webM/2015/07/20/150716YesMen_synd_768k_vp8.webm\"}})]:_vm._e(),(_vm.docType === 'image')?[_c('img',{staticClass:\"image\",attrs:{\"src\":\"https://picsum.photos/1000\"}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pdf-view\"},[_c('div',{style:({ width: _vm.pdfWidth, margin: \"0 auto\" })},_vm._l((_vm.totalPage),function(page){return _c('canvas',{key:page,attrs:{\"id\":'pdfCanvas' + page}})}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pdf-view\">\n    <!-- <div class=\"btn-group\">\n      <el-button-group>\n        <el-button type=\"primary\" @click=\"firstPageHandler\"\n          >跳转到第一页</el-button\n        >\n\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-arrow-left\"\n          @click=\"previousPage\"\n          >上一页</el-button\n        >\n        <el-button type=\"primary\" @click=\"nextPage\"\n          >下一页<i class=\"el-icon-arrow-right el-icon--right\"></i\n        ></el-button>\n\n        <el-button type=\"primary\" @click=\"lastPageHandler\"\n          >跳转到最后一页</el-button\n        >\n      </el-button-group>\n    </div> -->\n\n    <div :style=\"{ width: pdfWidth, margin: `0 auto` }\">\n      <canvas\n        v-for=\"page in totalPage\"\n        :id=\"'pdfCanvas' + page\"\n        :key=\"page\"\n      ></canvas>\n    </div>\n\n    <!-- <canvas id=\"pdfCanvas\"></canvas> -->\n  </div>\n</template>\n\n<script>\n// const pdfjsLib = require(\"pdfjs-dist/legacy/build/pdf\");\n// pdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.js`;\n// import * as PDFJSWorker from \"pdfjs-dist/legacy/build/pdf.worker\";\n\nimport * as pdfjsLib from \"pdfjs-dist/legacy/build/pdf\";\nimport PDFJSWorker from \"pdfjs-dist/legacy/build/pdf.worker.entry\";\npdfjsLib.GlobalWorkerOptions.workerSrc = PDFJSWorker;\n\nexport default {\n  name: \"PDF\",\n  props: {\n    // PDF 文件的实际链接\n    url: {\n      type: String,\n      default: \"\"\n    },\n    watermark: {\n      type: String,\n      default: \"测试水印内容\"\n    }\n  },\n  data() {\n    return {\n      currentPage: 1,\n      totalPage: 1,\n      width: 0,\n      height: 0,\n      pdfWidth: \"\",\n      pdfDoc: null,\n      // 是否位于队列中\n      rendering: false\n    };\n  },\n  computed: {\n    // 是否首页\n    firstPage() {\n      return this.currentPage <= 1;\n    },\n    // 是否尾页\n    lastPage() {\n      return this.currentPage >= this.totalPage;\n    }\n  },\n  watch: {\n    url: {\n      handler(nVal) {\n        if (!nVal) {\n          return;\n        }\n        this._initPdf();\n      }\n    }\n  },\n  mounted() {\n    this._initPdf();\n  },\n  methods: {\n    // 跳转到首页\n    firstPageHandler() {\n      if (this.firstPage) {\n        return;\n      }\n\n      this.currentPage = 1;\n      this._renderQueue();\n    },\n    // 跳转到尾页\n    lastPageHandler() {\n      if (this.lastPage) {\n        return;\n      }\n\n      this.currentPage = this.totalPage;\n      this._renderQueue();\n    },\n    // 上一页\n    previousPage() {\n      if (this.firstPage) {\n        return;\n      }\n\n      this.currentPage--;\n      this._renderQueue();\n    },\n    // 下一页\n    nextPage() {\n      if (this.lastPage) {\n        return;\n      }\n\n      this.currentPage++;\n      this._renderQueue();\n    },\n    _initPdf() {\n      pdfjsLib.getDocument(this.url).promise.then(doc => {\n        // 文档对象\n        this.pdfDoc = doc;\n        // 总页数\n        this.totalPage = doc.numPages;\n        // 渲染页面\n        this.$nextTick(() => {\n          this._renderPage();\n        });\n      });\n    },\n    _getRatio(ctx) {\n      let dpr = window.devicePixelRatio || 1;\n      let bspr =\n        ctx.webkitBackingStorePixelRatio ||\n        ctx.mozBackingStorePixelRatio ||\n        ctx.msBackingStorePixelRatio ||\n        ctx.oBackingStorePixelRatio ||\n        ctx.backingStorePixelRatio ||\n        1;\n      return dpr / bspr;\n    },\n    _getClientWidth() {\n      const width = window.innerWidth\n        ? window.innerWidth\n        : document.documentElement.clientWidth\n        ? document.documentElement.clientWidth\n        : screen.width;\n      // const width =\n      //   document.documentElement.getBoundingClientRect().width ||\n      //   document.documentElement.clientWidth ||\n      //   document.body.clientWidth ||\n      //   window.innerWidth;\n      return width - 40;\n    },\n    _renderPage() {\n      // 队列开始\n      this.rendering = true;\n\n      this.pdfDoc.getPage(this.currentPage).then(page => {\n        // let canvas = document.querySelector(\"#pdfCanvas\");\n        let canvas = document.getElementById(`pdfCanvas${this.currentPage}`);\n        if (!canvas) return;\n        let ctx = canvas.getContext(\"2d\");\n        // 获取页面比率\n        let ratio = this._getRatio(ctx);\n        // 根据页面宽度和视口宽度的比率就是内容区的放大比率\n        //所以这里分别获取了父容器和页面本身的宽度，父容器宽度 / 页面宽度 后得出的比率就是实际页面需要放大多少的比率\n        //page.view 是一个数组，里面有四个值，分别是 x轴偏移量、y轴偏移量、宽度、高度\n        //要获取真实的宽度，还需要考虑当前页面比率，所以使用 page.view[2] * ratio 计算得出实际宽度\n        const clientWidth = this._getClientWidth();\n        // const pageWidth = page.view[2] * ratio;\n        const pageWidth = page.getViewport({ scale: 1 }).width;\n        const scale = clientWidth / pageWidth;\n        console.log(\n          \"scale: \",\n          scale,\n          ratio,\n          clientWidth,\n          page.view[2] * ratio,\n          page.getViewport({ scale: 1 }).width\n        );\n        const viewport = page.getViewport({ scale });\n        // 记录内容区宽高，后期添加水印时需要\n        this.width = viewport.width * ratio;\n        this.height = viewport.height * ratio;\n        canvas.width = this.width;\n        canvas.height = this.height;\n\n        canvas.style.width = viewport.width + \"px\";\n        canvas.style.height = viewport.height + \"px\";\n        this.pdfWidth = viewport.width + \"px\";\n        // 缩放比率\n        ctx.setTransform(ratio, 0, 0, ratio, 0, 0);\n\n        page\n          .render({\n            canvasContext: ctx,\n            viewport\n          })\n          .promise.then(() => {\n            if (this.currentPage < this.totalPage) {\n              this.rendering = false;\n              this._renderWatermark(); // 渲染水印\n              this.currentPage += 1;\n              this._renderPage();\n            }\n          });\n      });\n    },\n    _renderQueue() {\n      if (this.rendering) {\n        return;\n      }\n      this._renderPage();\n    },\n    _initWatermark() {\n      let canvas = document.createElement(\"canvas\");\n      canvas.width = 200;\n      canvas.height = 200;\n\n      let ctx = canvas.getContext(\"2d\");\n      ctx.rotate((-18 * Math.PI) / 180);\n      ctx.font = \"14px Vedana\";\n      ctx.fillStyle = \"rgba(200, 200, 200, .3)\";\n      ctx.textAlign = \"left\";\n      ctx.textBaseline = \"middle\";\n      ctx.fillText(this.watermark, 50, 50);\n\n      return canvas;\n    },\n    _renderWatermark() {\n      //   let canvas = document.querySelector(\"#pdfCanvas\");\n      let canvas = document.getElementById(`pdfCanvas${this.currentPage}`);\n      if (!canvas) return;\n      let ctx = canvas.getContext(\"2d\");\n      // 平铺水印\n      let pattern = ctx.createPattern(this._initWatermark(), \"repeat\");\n      ctx.rect(0, 0, this.width, this.height);\n      ctx.fillStyle = pattern;\n      ctx.fill();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.pdf-view {\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=39958bb0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=39958bb0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39958bb0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-player',{ref:\"videoPlayer\",staticClass:\"video-player vjs-custom-skin\",attrs:{\"playsinline\":true,\"options\":_vm.playerOptions},on:{\"play\":function($event){return _vm.onPlayerPlay($event)},\"pause\":function($event){return _vm.onPlayerPause($event)},\"ended\":function($event){return _vm.onPlayerEnded($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-player\n    class=\"video-player vjs-custom-skin\"\n    ref=\"videoPlayer\"\n    :playsinline=\"true\"\n    :options=\"playerOptions\"\n    @play=\"onPlayerPlay($event)\"\n    @pause=\"onPlayerPause($event)\"\n    @ended=\"onPlayerEnded($event)\"\n  >\n  </v-player>\n</template>\n\n<script>\nimport videoPlayer from \"vue-video-player/src/player.vue\";\nimport \"video.js/dist/video-js.css\";\nimport \"vue-video-player/src/custom-theme.css\";\n\nexport default {\n  name: \"VideoPlayer\",\n  components: {\n    vPlayer: videoPlayer\n  },\n  props: {\n    src: {\n      type: String,\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      playerOptions: {\n        height: 350,\n        playbackRates: [0.7, 1.0, 1.5, 2.0], //播放速度\n        autoplay: false, //如果true,浏览器准备好时开始回放。\n        muted: false, // 默认情况下将会消除任何音频。\n        loop: false, // 导致视频一结束就重新开始。\n        preload: \"auto\", // 建议浏览器在<video>加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）\n        language: \"zh-CN\",\n        aspectRatio: \"16:9\", // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\n        fluid: true, // 当true时，Video.js player将拥有流体大小。换句话说，它将按比例缩放以适应其容器。\n        sources: [\n          {\n            type: \"video/mp4\",\n            src: this.src\n          }\n        ],\n        poster: \"\", //你的封面地址\n        // width: document.documentElement.clientWidth,\n        notSupportedMessage: \"此视频暂无法播放，请稍后再试\", //允许覆盖Video.js无法播放媒体源时显示的默认信息。\n        controlBar: {\n          timeDivider: true,\n          durationDisplay: true,\n          remainingTimeDisplay: false,\n          fullscreenToggle: true //全屏按钮\n        }\n      }\n    };\n  },\n  computed: {\n    player() {\n      return this.$refs.videoPlayer.player;\n    }\n  },\n  methods: {\n    // 播放回调\n    onPlayerPlay(e) {\n      console.log(\"player play!\", e);\n    },\n\n    // 暂停回调\n    onPlayerPause(e) {\n      console.log(\"player pause!\", e);\n    },\n\n    // 视频播完回调\n    onPlayerEnded(e) {\n      console.log(\"player ended!\", e);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9aec7a2e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9aec7a2e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"pdf\">\n    <template v-if=\"docType === 'pdf'\">\n      <pdf :url=\"docSrc\" />\n    </template>\n\n    <template v-if=\"docType === 'video'\">\n      <video-player\n        src=\"https://cdn.theguardian.tv/webM/2015/07/20/150716YesMen_synd_768k_vp8.webm\"\n      />\n    </template>\n\n    <template v-if=\"docType === 'image'\">\n      <img class=\"image\" src=\"https://picsum.photos/1000\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport pdf from \"@/components/PDF/index.vue\";\nimport VideoPlayer from \"@/components/VideoPlayer/index.vue\";\n\nexport default {\n  name: \"Document\",\n  components: {\n    pdf,\n    VideoPlayer\n  },\n  data() {\n    return {\n      docSrc: \"\",\n      docType: \"\"\n    };\n  },\n  watch: {\n    $route() {\n      this.getDocData();\n    }\n  },\n  created() {\n    this.getDocData();\n  },\n  mounted() {},\n  methods: {\n    getDocData() {\n      const { href, mime } = this.$route.query;\n      this.docSrc = href;\n      this.docType = mime;\n      console.log(\"docSrc:\", this.docSrc, this.docType);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./index.scss\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=726b2ce1&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=726b2ce1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"726b2ce1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}